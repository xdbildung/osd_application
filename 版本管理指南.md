# ğŸ“¦ ç‰ˆæœ¬ç®¡ç†æŒ‡å—

## å½“å‰ç‰ˆæœ¬ï¼šv2.0.0

---

## ğŸ¯ ç‰ˆæœ¬å·è§„åˆ™

æˆ‘ä»¬ä½¿ç”¨ [è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶](https://semver.org/lang/zh-CN/)ï¼ˆSemantic Versioningï¼‰ï¼š

### ç‰ˆæœ¬æ ¼å¼ï¼š`MAJOR.MINOR.PATCH`

- **MAJOR**ï¼ˆä¸»ç‰ˆæœ¬å·ï¼‰ï¼šé‡å¤§æ›´æ–°ï¼ŒåŒ…å«ä¸å…¼å®¹çš„ API å˜æ›´
  - ç¤ºä¾‹ï¼š1.0.0 â†’ 2.0.0
  - åœºæ™¯ï¼šå®‰å…¨æ¶æ„é‡æ„ã€ç ´åæ€§å˜æ›´

- **MINOR**ï¼ˆæ¬¡ç‰ˆæœ¬å·ï¼‰ï¼šæ–°åŠŸèƒ½ï¼Œå‘åå…¼å®¹
  - ç¤ºä¾‹ï¼š2.0.0 â†’ 2.1.0
  - åœºæ™¯ï¼šæ·»åŠ æ–°åŠŸèƒ½ã€æ–°é¡µé¢ã€æ–°æ¨¡å—

- **PATCH**ï¼ˆä¿®è®¢å·ï¼‰ï¼šBug ä¿®å¤ï¼Œå‘åå…¼å®¹
  - ç¤ºä¾‹ï¼š2.0.0 â†’ 2.0.1
  - åœºæ™¯ï¼šBug ä¿®å¤ã€æ–‡æ¡£æ›´æ–°ã€å°ä¼˜åŒ–

---

## ğŸš€ å‘å¸ƒæ–°ç‰ˆæœ¬

### æ–¹æ³• 1ï¼šä½¿ç”¨ npm è„šæœ¬ï¼ˆæ¨èï¼‰

#### ä¿®è®¢ç‰ˆæœ¬ï¼ˆBug ä¿®å¤ï¼‰
```bash
npm run version:patch
# 2.0.0 â†’ 2.0.1
```

#### æ¬¡ç‰ˆæœ¬ï¼ˆæ–°åŠŸèƒ½ï¼‰
```bash
npm run version:minor
# 2.0.0 â†’ 2.1.0
```

#### ä¸»ç‰ˆæœ¬ï¼ˆé‡å¤§æ›´æ–°ï¼‰
```bash
npm run version:major
# 2.0.0 â†’ 3.0.0
```

### æ–¹æ³• 2ï¼šä½¿ç”¨å‘å¸ƒè„šæœ¬ï¼ˆå®Œæ•´æµç¨‹ï¼‰

```bash
# 1. ç¡®ä¿æ‰€æœ‰æ›´æ”¹å·²æäº¤
git status

# 2. æ›´æ–° package.json ç‰ˆæœ¬å·ï¼ˆæ‰‹åŠ¨ç¼–è¾‘æˆ–ä½¿ç”¨ npm versionï¼‰
npm version patch  # æˆ– minor, major

# 3. è¿è¡Œå‘å¸ƒè„šæœ¬
npm run release
```

å‘å¸ƒè„šæœ¬ä¼šè‡ªåŠ¨ï¼š
- âœ… æ£€æŸ¥ Git çŠ¶æ€
- âœ… åˆ›å»º Git Tag
- âœ… æ¨é€åˆ° GitHub
- âœ… ç”Ÿæˆ `version.json`
- âœ… è§¦å‘ Vercel è‡ªåŠ¨éƒ¨ç½²

---

## ğŸ“ ç‰ˆæœ¬å‘å¸ƒæµç¨‹

### å®Œæ•´çš„ç‰ˆæœ¬å‘å¸ƒæ­¥éª¤ï¼š

#### 1ï¸âƒ£ å‡†å¤‡é˜¶æ®µ
```bash
# ç¡®ä¿åœ¨ main åˆ†æ”¯
git checkout main

# æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# ç¡®ä¿å·¥ä½œç›®å½•å¹²å‡€
git status
```

#### 2ï¸âƒ£ æ›´æ–°ç‰ˆæœ¬å·
```bash
# æ ¹æ®æ›´æ–°ç±»å‹é€‰æ‹©
npm run version:patch   # Bug ä¿®å¤
npm run version:minor   # æ–°åŠŸèƒ½
npm run version:major   # é‡å¤§æ›´æ–°
```

#### 3ï¸âƒ£ åˆ›å»º Changelog
```bash
# åˆ›å»ºç‰ˆæœ¬æ›´æ–°æ—¥å¿—
# æ–‡ä»¶åæ ¼å¼ï¼šVERSION_X.X.X_CHANGELOG.md
# å‚è€ƒï¼šVERSION_2.0.0_CHANGELOG.md
```

#### 4ï¸âƒ£ æ›´æ–° version.json
```json
{
  "version": "2.0.1",
  "releaseDate": "2026-01-12T12:00:00.000Z",
  "description": "Bug ä¿®å¤å’Œä¼˜åŒ–",
  "changes": [
    "ä¿®å¤äº†è€ƒè¯•åœºæ¬¡åŠ è½½é—®é¢˜",
    "ä¼˜åŒ–äº† API å“åº”æ—¶é—´"
  ]
}
```

#### 5ï¸âƒ£ æäº¤æ›´æ”¹
```bash
git add .
git commit -m "chore: release v2.0.1"
```

#### 6ï¸âƒ£ å‘å¸ƒ
```bash
npm run release
```

#### 7ï¸âƒ£ åœ¨ GitHub åˆ›å»º Release

1. è®¿é—®ï¼šhttps://github.com/xdbildung/osd_application/releases
2. ç‚¹å‡» "Draft a new release"
3. é€‰æ‹©åˆšåˆ›å»ºçš„ Tagï¼š`v2.0.1`
4. å¡«å†™ Release æ ‡é¢˜å’Œè¯´æ˜
5. é™„ä¸Š Changelog å†…å®¹
6. ç‚¹å‡» "Publish release"

---

## ğŸ·ï¸ Git Tag è§„èŒƒ

### Tag å‘½åæ ¼å¼
```
v{MAJOR}.{MINOR}.{PATCH}
```

### ç¤ºä¾‹
- `v2.0.0` - ä¸»ç‰ˆæœ¬å‘å¸ƒ
- `v2.1.0` - æ–°åŠŸèƒ½å‘å¸ƒ
- `v2.0.1` - Bug ä¿®å¤

### åˆ›å»º Tag
```bash
# åˆ›å»ºå¸¦æ³¨é‡Šçš„ Tag
git tag -a v2.0.1 -m "Release v2.0.1: Bug fixes"

# æ¨é€ Tag åˆ°è¿œç¨‹
git push origin v2.0.1

# æ¨é€æ‰€æœ‰ Tags
git push origin --tags
```

### æŸ¥çœ‹ Tags
```bash
# åˆ—å‡ºæ‰€æœ‰ Tags
git tag

# æŸ¥çœ‹ç‰¹å®š Tag çš„è¯¦æƒ…
git show v2.0.0
```

---

## ğŸ“„ Changelog è§„èŒƒ

### Changelog æ–‡ä»¶ç»“æ„

```markdown
# ç‰ˆæœ¬ X.X.X æ›´æ–°æ—¥å¿—

## ğŸ“… å‘å¸ƒæ—¥æœŸï¼šYYYY-MM-DD

## ğŸ¯ é‡å¤§æ›´æ–°
- æè¿°é‡å¤§å˜æ›´

## âœ¨ æ–°å¢åŠŸèƒ½
- åˆ—å‡ºæ–°åŠŸèƒ½

## ğŸ”§ æ”¹è¿›
- åˆ—å‡ºæ”¹è¿›é¡¹

## ğŸ› Bug ä¿®å¤
- åˆ—å‡ºä¿®å¤çš„é—®é¢˜

## ğŸ” å®‰å…¨æ›´æ–°
- åˆ—å‡ºå®‰å…¨ç›¸å…³æ›´æ–°

## ğŸ“š æ–‡æ¡£æ›´æ–°
- åˆ—å‡ºæ–‡æ¡£å˜æ›´
```

### Commit Message è§„èŒƒ

ä½¿ç”¨ [Conventional Commits](https://www.conventionalcommits.org/zh-hans/)ï¼š

```
<type>(<scope>): <subject>

<body>

<footer>
```

#### Type ç±»å‹ï¼š
- `feat`: æ–°åŠŸèƒ½
- `fix`: Bug ä¿®å¤
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼ï¼ˆä¸å½±å“åŠŸèƒ½ï¼‰
- `refactor`: é‡æ„ï¼ˆä¸æ˜¯æ–°åŠŸèƒ½ä¹Ÿä¸æ˜¯ä¿®å¤ï¼‰
- `perf`: æ€§èƒ½ä¼˜åŒ–
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·é“¾ç›¸å…³

#### ç¤ºä¾‹ï¼š
```bash
git commit -m "feat: add exam session filter"
git commit -m "fix: resolve API connection timeout"
git commit -m "docs: update security setup guide"
```

---

## ğŸ” ç‰ˆæœ¬æŸ¥çœ‹

### åœ¨ä»£ç ä¸­æŸ¥çœ‹ç‰ˆæœ¬

#### æ–¹æ³• 1ï¼šè¯»å– package.json
```javascript
const packageJson = require('./package.json');
console.log('å½“å‰ç‰ˆæœ¬:', packageJson.version);
```

#### æ–¹æ³• 2ï¼šè¯»å– version.json
```javascript
const versionInfo = require('./version.json');
console.log('ç‰ˆæœ¬:', versionInfo.version);
console.log('å‘å¸ƒæ—¶é—´:', versionInfo.releaseDate);
```

### åœ¨æµè§ˆå™¨ä¸­æŸ¥çœ‹ç‰ˆæœ¬

å‰ç«¯é¡µé¢ footer æ˜¾ç¤ºï¼š
```html
<footer>
  <p>ç‰ˆæœ¬: <span id="app-version">åŠ è½½ä¸­...</span></p>
</footer>

<script>
fetch('/version.json')
  .then(res => res.json())
  .then(data => {
    document.getElementById('app-version').textContent = 
      `v${data.version} (${new Date(data.releaseDate).toLocaleDateString('zh-CN')})`;
  });
</script>
```

---

## ğŸ“Š ç‰ˆæœ¬å†å²

### ä¸»è¦ç‰ˆæœ¬

| ç‰ˆæœ¬ | å‘å¸ƒæ—¥æœŸ | é‡å¤§å˜æ›´ |
|------|---------|----------|
| **v2.0.0** | 2026-01-12 | ğŸ”’ Supabase å®‰å…¨ä¿æŠ¤ï¼ŒAPI ä»£ç†å±‚ |
| v1.9.7 | 2025-XX-XX | åŠ¨æ€è€ƒè¯•åœºæ¬¡ï¼Œä¼˜æƒ ç åŠŸèƒ½ |
| v1.9.6 | 2025-XX-XX | Vercel éƒ¨ç½²ä¼˜åŒ– |

---

## ğŸ¯ ç‰ˆæœ¬å‘å¸ƒæ£€æŸ¥æ¸…å•

å‘å¸ƒæ–°ç‰ˆæœ¬å‰ï¼Œç¡®ä¿å®Œæˆï¼š

### ä»£ç è´¨é‡
- [ ] æ‰€æœ‰åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] æµè§ˆå™¨æ§åˆ¶å°æ— é”™è¯¯
- [ ] ä»£ç å·²æ ¼å¼åŒ–
- [ ] ç§»é™¤äº†è°ƒè¯•ä»£ç 

### æ–‡æ¡£
- [ ] æ›´æ–°äº† README.md
- [ ] åˆ›å»ºäº† Changelog
- [ ] æ›´æ–°äº† version.json
- [ ] æ›´æ–°äº†ç›¸å…³æ–‡æ¡£

### Git
- [ ] æ‰€æœ‰æ›´æ”¹å·²æäº¤
- [ ] Commit message è§„èŒƒ
- [ ] åˆ›å»ºäº† Git Tag
- [ ] æ¨é€åˆ° GitHub

### éƒ¨ç½²
- [ ] Vercel ç¯å¢ƒå˜é‡å·²é…ç½®
- [ ] éƒ¨ç½²æµ‹è¯•é€šè¿‡
- [ ] ç”Ÿäº§ç¯å¢ƒéªŒè¯
- [ ] åˆ›å»º GitHub Release

---

## ğŸš¨ å›æ»šç‰ˆæœ¬

å¦‚æœæ–°ç‰ˆæœ¬æœ‰é—®é¢˜ï¼Œå¯ä»¥å¿«é€Ÿå›æ»šï¼š

### æ–¹æ³• 1ï¼šVercel Dashboard å›æ»š

1. Vercel Dashboard â†’ Deployments
2. æ‰¾åˆ°ä¸Šä¸€ä¸ªç¨³å®šç‰ˆæœ¬
3. ç‚¹å‡» `...` â†’ `Promote to Production`

### æ–¹æ³• 2ï¼šGit å›æ»š

```bash
# æŸ¥çœ‹ç‰ˆæœ¬å†å²
git tag

# å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬
git checkout v1.9.7

# åˆ›å»ºæ–°åˆ†æ”¯
git checkout -b hotfix/rollback-v1.9.7

# æ¨é€å¹¶éƒ¨ç½²
git push origin hotfix/rollback-v1.9.7
```

---

## ğŸ’¡ æœ€ä½³å®è·µ

### 1. å®šæœŸå‘å¸ƒ
- ğŸ”¸ **Bug ä¿®å¤**ï¼šå‘ç°å³ä¿®å¤ï¼Œå°½å¿«å‘å¸ƒ PATCH ç‰ˆæœ¬
- ğŸ”¸ **æ–°åŠŸèƒ½**ï¼šæ¯ 1-2 å‘¨å‘å¸ƒ MINOR ç‰ˆæœ¬
- ğŸ”¸ **é‡å¤§æ›´æ–°**ï¼šæ¯å­£åº¦è¯„ä¼°æ˜¯å¦éœ€è¦ MAJOR ç‰ˆæœ¬

### 2. ç‰ˆæœ¬å‘½å
- âœ… ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬å·
- âœ… é‡å¤§æ›´æ–°åœ¨ Changelog ä¸­æ˜ç¡®æ ‡æ³¨
- âœ… æä¾›è¿ç§»æŒ‡å—

### 3. æµ‹è¯•
- âœ… å‘å¸ƒå‰åœ¨æµ‹è¯•ç¯å¢ƒéªŒè¯
- âœ… ä½¿ç”¨ Preview Deployment æµ‹è¯•
- âœ… å‡†å¤‡å›æ»šæ–¹æ¡ˆ

### 4. æ²Ÿé€š
- âœ… é‡å¤§æ›´æ–°æå‰é€šçŸ¥ç”¨æˆ·
- âœ… åœ¨ GitHub Release ä¸­è¯¦ç»†è¯´æ˜
- âœ… è®°å½•å·²çŸ¥é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

---

## ğŸ”— ç›¸å…³èµ„æº

- [è¯­ä¹‰åŒ–ç‰ˆæœ¬æ§åˆ¶](https://semver.org/lang/zh-CN/)
- [Conventional Commits](https://www.conventionalcommits.org/zh-hans/)
- [GitHub Releases](https://docs.github.com/en/repositories/releasing-projects-on-github)
- [Vercel Deployments](https://vercel.com/docs/deployments/overview)

---

**å½“å‰ç‰ˆæœ¬**ï¼šv2.0.0  
**æœ€åæ›´æ–°**ï¼š2026-01-12  
**ç»´æŠ¤è€…**ï¼š@tianling1991-alt
